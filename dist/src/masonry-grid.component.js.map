{"version":3,"file":"masonry-grid.component.js","sourceRoot":"","sources":["../../src/masonry-grid.component.ts"],"names":[],"mappings":";;;;AAKA,OAAO,EACL,SAAS,EAGT,KAAK,EACL,MAAM,EACN,UAAU,EACV,YAAY,EACZ,WAAW,EACX,MAAM,EAEP,MAAM,eAAe,CAAC;AAMvB,OAAO,EAAE,kBAAkB,EAAE,MAAM,wBAAwB,CAAC;;IAe1D,8BAC+B,aACrB,QAAoB,EACpB,kBAAsC;QAFjB,gBAAW,GAAX,WAAW;QAChC,aAAQ,GAAR,QAAQ,CAAY;QACpB,uBAAkB,GAAlB,kBAAkB,CAAoB;;8BAMC,EAAE;4BACX,KAAK;;8BAIG,IAAI,YAAY,EAAS;8BACzB,IAAI,YAAY,EAAS;KAXrE;IAaJ,uCAAQ,GAAR;KAEC;IAED,8CAAe,GAAf;;QAEE,IAAI,CAAC,iBAAiB,EAAE,CAAC;KAC1B;IAED,0CAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;SACvB;KACF;IAEM,qCAAM,GAAb;QAAA,iBAIC;QAHC,UAAU,CAAC;YACT,KAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;SACtB,EAAE,EAAE,CAAC,CAAC;KACR;IAED,2BAA2B;;IACpB,qCAAM;;IAAb,UAAc,OAAsB;QAClC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC5B,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;IAEM,gDAAiB,GAAxB;QAAA,iBAaC;;QAXC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAG,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;;QAG9I,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,UAAC,KAAU;YAC3C,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAChC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,UAAC,KAAU;YAC3C,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAChC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;;gBAtEF,SAAS,SAAC;oBACT,QAAQ,EAAE,8BAA8B;oBACxC,QAAQ,EAAE,2BAA2B;;oBAErC,MAAM,EAAE;wBACN,iDAIF;qBACC;iBACF;;;;gDAGI,MAAM,SAAC,WAAW;gBA3BrB,UAAU;gBAWH,kBAAkB;;;mCAwBxB,KAAK;iCACL,KAAK;2CACL,KAAK;mCAGL,MAAM;mCACN,MAAM;;+BApDT;;SAoCa,oBAAoB","sourcesContent":["/**\r\n * Shailendra Kumar <shailu.snist@gmail.com>\r\n * @ignore\r\n */\r\n\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Input,\r\n  Output,\r\n  ElementRef,\r\n  EventEmitter,\r\n  PLATFORM_ID,\r\n  Inject,\r\n  AfterViewInit\r\n} from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\ndeclare var require: any;\r\n\r\nimport { MasonryOptions, Masonry as IMasonry, AnimationOptions } from './masonry-grid.interface';\r\nimport { MasonryGridService } from './masonry-grid.service';\r\n\r\n@Component({\r\n  selector: '[masonry-grid], masonry-grid',\r\n  template: '<ng-content></ng-content>',\r\n  //styleUrls: ['./masonry-grid.css']\r\n  styles: [\r\n    `\r\n\t\t:host {\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t`\r\n  ]\r\n})\r\nexport class MasonryGridComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platformId: any,\r\n    private _element: ElementRef,\r\n    private masonryGridService: MasonryGridService\r\n  ) {}\r\n\r\n  public _msnry: IMasonry;\r\n\r\n  // Inputs\r\n  @Input() public masonryOptions: MasonryOptions = {};\r\n  @Input() public useAnimation: boolean = false;\r\n  @Input() public scrollAnimationOptions: AnimationOptions;\r\n \r\n  // Outputs\r\n  @Output() layoutComplete: EventEmitter<any[]> = new EventEmitter<any[]>();\r\n  @Output() removeComplete: EventEmitter<any[]> = new EventEmitter<any[]>();\r\n\r\n  ngOnInit() {   \r\n    \r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    //initialize masonry after View Initialization\r\n    this.initializeMasonry();    \r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._msnry) {\r\n      this._msnry.destroy();\r\n    }\r\n  }\r\n\r\n  public layout() {\r\n    setTimeout(() => {\r\n      this._msnry.layout();\r\n    }, 50);\r\n  }\r\n\r\n  // remove item from masonry\r\n  public remove(element: HTMLElement[]) {\r\n    this._msnry.remove(element);\r\n    this.layout();\r\n  }\r\n\r\n  public initializeMasonry() {\r\n    //initialize Masonry with Animation effects\r\n    this._msnry = this.masonryGridService.init(this.useAnimation, this._element.nativeElement , this.masonryOptions, this.scrollAnimationOptions);\r\n    \r\n    // Bind to Masonry events\r\n    this._msnry.on('layoutComplete', (items: any) => {\r\n     this.layoutComplete.emit(items);\r\n    });\r\n    this._msnry.on('removeComplete', (items: any) => {\r\n     this.removeComplete.emit(items);\r\n    });\r\n    \r\n    this.layout();\r\n  }\r\n}\r\n"]}